<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Enseignant</title>
  <link rel="stylesheet" href="style-enseignant.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Roboto", "Open Sans", sans-serif;
}

body {
  display: flex;
  height: 100vh;
  background-color: #f9f9f9;
}

.dashboard {
  display: flex;
  width: 100%;
}

.menu-enseignant {
  width: 220px;
  background-color: #2c3e50;
  color: white;
  padding: 20px;
  flex-shrink: 0;
}

.menu-enseignant h2 {
  margin-bottom: 30px;
  text-align: center;
}

.menu-enseignant ul {
  list-style: none;
}

.menu-enseignant li {
  padding: 12px 16px;
  margin-bottom: 10px;
  cursor: pointer;
  border-radius: 8px;
  transition: background 0.3s;
}

.menu-enseignant li:hover,
.menu-enseignant li.active {
  background-color: black;
}

.contenu-enseignant {
  flex-grow: 1;
  padding: 30px;
  overflow-y: auto;
}

.section {
  display: none;
}

.section.active {
  display: block;
}
.stats-container {
  display: flex;
  gap: 20px;
  margin-bottom: 30px;
  flex-wrap: wrap;
}

.stat-box {
  flex: 1;
  min-width: 220px;
  background-color: white;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
}

.stat-box h2 {
  font-size: 18px;
  color: #555;
  margin-bottom: 10px;
}

.stat-box p {
  font-size: 32px;
  font-weight: bold;
  color: #1abc9c;
}

.boite-notif {
  background: white;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
}

.boite-notif h3 {
  margin-bottom: 10px;
  color: #333;
}

.boite-notif ul {
  list-style: none;
  padding-left: 0;
}

.boite-notif li {
  padding: 8px 0;
  border-bottom: 1px solid #eee;
  color: #444;
}
.liste-cours {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.cours-card {
  background-color: white;
  border-radius: 10px;
  padding: 18px;
  box-shadow: 0 1px 6px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.cours-card:hover {
  transform: scale(1.03);
}

.cours-card h3 {
  color: black;
  margin-bottom: 10px;
}

.cours-card p {
  font-size: 14px;
  color: #555;
  margin: 4px 0;
}

.cours-card button {
  margin-top: 10px;
  padding: 6px 10px;
  background-color: #042b52;
  border: none;
  color: white;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
}

.cours-card button:hover {
  background-color: #042b52;
}
.note-controls {
  margin: 20px 0;
}

.note-controls select {
  padding: 8px;
  font-size: 16px;
}

.table-notes {
  width: 100%;
  border-collapse: collapse;
  background-color: white;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  overflow: hidden;
}

.table-notes th, .table-notes td {
  padding: 12px;
  text-align: center;
  border-bottom: 1px solid #eee;
}

.table-notes th {
  background-color: #042b52;
  color: white;
}

.table-notes input[type="number"] {
  width: 60px;
  padding: 4px;
}

.table-notes button {
  padding: 6px 10px;
  font-size: 14px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.table-notes .btn-save {
  background-color: black;
  color: white;
}

.table-notes .btn-delete {
  background-color: #e74c3c;
  color: white;
  margin-left: 5px;
}
.emploi-tableau {
  overflow-x: auto;
  margin-top: 20px;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);
  padding: 10px;
}

.emploi-tableau table {
  width: 100%;
  border-collapse: collapse;
  min-width: 700px;
}

.emploi-tableau th,
.emploi-tableau td {
  border: 1px solid #ddd;
  padding: 10px;
  text-align: center;
}

.emploi-tableau th {
  background-color: black;
  color: white;
}

.emploi-tableau td {
  font-size: 14px;
  color: #333;
}

.emploi-tableau td.vide {
  background-color: #f5f5f5;
  color: #aaa;
}
.doc-upload {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin: 20px 0;
  align-items: center;
}

.doc-upload select,
.doc-upload input[type="file"] {
  padding: 6px;
  font-size: 15px;
}

.doc-upload button {
  background-color: black;
  color: white;
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.doc-upload button:hover {
  background-color:black;
}

.doc-liste {
  background: white;
  padding: 15px;
  border-radius: 10px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
}

.doc-liste ul {
  list-style: none;
  padding-left: 0;
}

.doc-liste li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #eee;
}

.doc-liste button {
  background-color: #e74c3c;
  border: none;
  padding: 5px 8px;
  color: white;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
}
.form-message {
  display: flex;
  flex-direction: column;
  gap: 10px;
  background: white;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
}

.form-message select,
.form-message textarea {
  padding: 8px;
  font-size: 15px;
}

.form-message button {
  width: fit-content;
  background-color: #042b52;
  color: white;
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.form-message button:hover {
  background-color: #042b52;
}

.historique-messages {
  background: white;
  padding: 15px;
  border-radius: 10px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
}

.historique-messages ul {
  list-style: none;
  padding-left: 0;
}

.historique-messages li {
  padding: 10px 0;
  border-bottom: 1px solid #eee;
  color: #444;
}
.parametres-container {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  background: white;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 1px 5px rgba(0,0,0,0.1);
  margin-top: 20px;
}

.profil-photo {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.profil-photo img {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #042b52;
}

.infos-personnelles {
  flex: 1;
  min-width: 250px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.infos-personnelles label {
  font-weight: bold;
  color: #333;
}

.infos-personnelles input {
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.infos-personnelles button {
  margin-top: 10px;
  width: fit-content;
  background-color: black;
  color: white;
  padding: 10px 18px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.infos-personnelles button:hover {
  background-color: black;
}
  </style>
</head>
<body>

  <div class="dashboard">
    <!-- MENU -->
    <aside class="menu-enseignant">
      <h2>üë®‚Äçüè´ Enseignant</h2>
      <ul id="menu-enseignant">
        <li class="active" data-section="accueil">üè† Accueil</li>
        <li data-section="mes-cours">üìö Mes cours</li>
        <li data-section="notes">üìù Notes</li>
        <li data-section="emploi">üìÖ Emploi du temps</li>
        <li data-section="documents">üìÇ Documents</li>
        <li data-section="messagerie">‚úâÔ∏è Messagerie</li>
        <li data-section="parametres">‚öôÔ∏è Param√®tres</li>
      </ul>
    </aside>

    <!-- CONTENU -->
    <main class="contenu-enseignant">
      <section id="accueil" class="section active">
        <h1>üè† Bienvenue, Pr. [Nom]</h1>

        <div class="stats-container">
            <div class="stat-box">
            <h2>üìö Cours assign√©s</h2>
            <p id="nb-cours">0</p>
            </div>
            <div class="stat-box">
            <h2>üìù Devoirs √† corriger</h2>
            <p id="nb-devoirs">0</p>
            </div>
            <div class="stat-box">
            <h2>üîî Notifications</h2>
            <p id="nb-notif">0</p>
            </div>
        </div>

        <div class="boite-notif">
            <h3>üì¢ Annonces r√©centes</h3>
            <ul id="liste-annonces">
            <li>Aucune notification r√©cente.</li>
            </ul>
        </div>
        </section>

        <section id="mes-cours" class="section">
            <h1>üìö Mes cours</h1>

            <div class="liste-cours">
                <!-- Cartes de cours ins√©r√©es dynamiquement -->
            </div>
        </section>

      <section id="notes" class="section">
        <h1>üìù Gestion des notes</h1>

        <div class="note-controls">
            <label for="cours-select">Choisir un cours :</label>
            <select id="cours-select">
            <option value="">-- S√©lectionnez un cours --</option>
            </select>
        </div>

        <table class="table-notes" id="table-notes">
            <thead>
            <tr>
                <th>Matricule</th>
                <th>Nom de l'√©tudiant</th>
                <th>Note</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody id="notes-body">
            <!-- Lignes g√©n√©r√©es dynamiquement -->
            </tbody>
        </table>
        </section>

      <section id="emploi" class="section">
        <h1>üìÖ Mon emploi du temps</h1>

        <div class="emploi-tableau">
            <table>
            <thead>
                <tr>
                <th>Heure</th>
                <th>Lundi</th>
                <th>Mardi</th>
                <th>Mercredi</th>
                <th>Jeudi</th>
                <th>Vendredi</th>
                <th>Samedi</th>
                </tr>
            </thead>
            <tbody id="emploi-body">
                <!-- Ligne horaires + cours ins√©r√©s dynamiquement -->
            </tbody>
            </table>
        </div>
      </section>

      <section id="documents" class="section">
        <h1>üìÇ Documents p√©dagogiques</h1>

        <div class="doc-upload">
            <label for="doc-cours">Cours :</label>
            <select id="doc-cours">
            <option value="">-- S√©lectionnez un cours --</option>
            </select>

            <input type="file" id="doc-fichier" />
            <button onclick="ajouterDocument()">üì§ Ajouter</button>
        </div>

        <div class="doc-liste">
            <h3>üìÅ Fichiers envoy√©s</h3>
            <ul id="liste-docs">
            <li>Aucun document pour le moment.</li>
            </ul>
        </div>
      </section>

      <section id="messagerie" class="section">
        <h1>‚úâÔ∏è Messagerie</h1>
        <div class="form-message">
            <label for="cours-message">Cours :</label>
            <select id="cours-message">
                <option value="">-- S√©lectionner un cours --</option>
            </select>
            <label for="destinataire">Destinataire :</label>
                <select id="destinataire">
            <option value="tous">Tous les √©tudiants</option>
            <!-- √âtudiants dynamiques plus tard -->
            </select>
            <label for="contenu-message">Message :</label>
            <textarea id="contenu-message" rows="4" placeholder="Tapez votre message ici..."></textarea>
            <button onclick="envoyerMessage()">üì® Envoyer</button>
        </div>
        <div class="historique-messages">
            <h3>üïò Historique des messages</h3>
            <ul id="liste-messages">
              <li>Aucun message envoy√©.</li>
            </ul>
        </div>
      </section>
      <section id="parametres" class="section">
        <h1>‚öôÔ∏è Param√®tres du compte</h1>

        <div class="parametres-container">
          <div class="profil-photo">
            <img id="photo-profil" src="https://via.placeholder.com/120" alt="Photo de profil" />
            <input type="file" id="input-photo" />
          </div>

          <div class="infos-personnelles">
            <label>Nom :</label>
            <input type="text" id="nom" value="Professeur X" />

            <label>Email :</label>
            <input type="email" id="email" value="prof.x@faculte.edu" />

            <label>Mot de passe actuel :</label>
            <input type="password" id="old-password" />

            <label>Nouveau mot de passe :</label>
            <input type="password" id="new-password" />

            <button onclick="mettreAJourProfil()">üíæ Enregistrer</button>
          </div>
        </div>
      </section>
      
    </main>
  </div>

  <script>
    const menuItems = document.querySelectorAll('#menu-enseignant li');
    const sections = document.querySelectorAll('main .section');

    menuItems.forEach(item => {
    item.addEventListener('click', () => {
        // R√©initialiser
        menuItems.forEach(i => i.classList.remove('active'));
        sections.forEach(s => s.classList.remove('active'));

        // Activer
        item.classList.add('active');
        const sectionId = item.getAttribute('data-section');
        document.getElementById(sectionId).classList.add('active');
    });
    });
    // Donn√©es simul√©es ‚Äì √† connecter plus tard √† une vraie base de donn√©es
const donneesAccueil = {
  cours: 4,
  devoirsACorriger: 7,
  notifications: 3,
  annonces: [
    "üìÖ R√©union p√©dagogique ce jeudi √† 10h",
    "üñ•Ô∏è Maintenance du syst√®me pr√©vue ce weekend",
    "üìå Rappel : Remise des bulletins avant le 20 juillet"
  ]
};

// Remplir les stats
document.getElementById("nb-cours").textContent = donneesAccueil.cours;
document.getElementById("nb-devoirs").textContent = donneesAccueil.devoirsACorriger;
document.getElementById("nb-notif").textContent = donneesAccueil.notifications;

// Remplir les annonces
const ulAnnonces = document.getElementById("liste-annonces");
ulAnnonces.innerHTML = "";
donneesAccueil.annonces.forEach(msg => {
  const li = document.createElement("li");
  li.textContent = msg;
  ulAnnonces.appendChild(li);
});
// Simuler des cours assign√©s √† l‚Äôenseignant
const mesCours = [
  {
    code: "ELT101",
    nom: "Mat√©riaux √©lectrotechniques",
    niveau: "L1",
    groupe: "A",
    semestre: "S1"
  },
  {
    code: "INF204",
    nom: "Architecture des ordinateurs",
    niveau: "L2",
    groupe: "B",
    semestre: "S2"
  },
  {
    code: "EEN301",
    nom: "√âlectronique num√©rique",
    niveau: "L3",
    groupe: "A",
    semestre: "S1"
  }
];

// Ins√©rer les cartes dans la section Mes cours
const containerCours = document.querySelector(".liste-cours");

mesCours.forEach(cours => {
  const card = document.createElement("div");
  card.className = "cours-card";
  card.innerHTML = `
    <h3>${cours.nom}</h3>
    <p><strong>Code :</strong> ${cours.code}</p>
    <p><strong>Niveau :</strong> ${cours.niveau}</p>
    <p><strong>Groupe :</strong> ${cours.groupe}</p>
    <p><strong>Semestre :</strong> ${cours.semestre}</p>
    <button onclick="ouvrirNotes('${cours.code}')">üìù G√©rer les notes</button>
  `;
  containerCours.appendChild(card);
});

function ouvrirNotes(codeCours) {
  alert("Redirection vers la gestion des notes du cours : " + codeCours);
  // Tu pourras plus tard ouvrir automatiquement la section notes avec ce cours pr√©charg√©
}
// Donn√©es simul√©es
const listeCours = ["ELT101", "INF204", "EEN301"];

const notesEtudiants = {
  "ELT101": [
    { matricule: "2023-001", nom: "Lusakueno P.", note: 14 },
    { matricule: "2023-002", nom: "Kabeya M.", note: 12 }
  ],
  "INF204": [
    { matricule: "2023-003", nom: "Tshibanda J.", note: 15 }
  ],
  "EEN301": []
};

// Charger les options dans le s√©lecteur
const selectCours = document.getElementById("cours-select");
listeCours.forEach(code => {
  const option = document.createElement("option");
  option.value = code;
  option.textContent = code;
  selectCours.appendChild(option);
});

selectCours.addEventListener("change", () => {
  const cours = selectCours.value;
  const body = document.getElementById("notes-body");
  body.innerHTML = "";

  if (!cours) return;

  const etudiants = notesEtudiants[cours] || [];

  etudiants.forEach((etudiant, index) => {
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${etudiant.matricule}</td>
      <td>${etudiant.nom}</td>
      <td><input type="number" value="${etudiant.note}" min="0" max="20" step="0.5" /></td>
      <td>
        <button class="btn-save" onclick="sauverNote('${cours}', ${index})">üíæ</button>
        <button class="btn-delete" onclick="supprimerEtudiant('${cours}', ${index})">üóëÔ∏è</button>
      </td>
    `;
    body.appendChild(row);
  });
});

// Fonctions d'action
function sauverNote(cours, index) {
  const tbody = document.getElementById("notes-body");
  const ligne = tbody.children[index];
  const input = ligne.querySelector("input[type='number']");
  const nouvelleNote = parseFloat(input.value);
  notesEtudiants[cours][index].note = nouvelleNote;
  alert("Note mise √† jour !");
}

function supprimerEtudiant(cours, index) {
  if (confirm("Supprimer cet √©tudiant de la liste ?")) {
    notesEtudiants[cours].splice(index, 1);
    selectCours.dispatchEvent(new Event("change"));
  }
}
const horaire = [
  "08h00 - 10h00",
  "10h15 - 12h15",
  "13h00 - 15h00",
  "15h15 - 17h15"
];

// Exemple d'emploi du temps : [jour][heure] = contenu
const edt = {
  Lundi: ["ELT101 - Gp A - A101", null, "INF204 - Gp B - B203", null],
  Mardi: [null, "EEN301 - Gp A - C302", null, null],
  Mercredi: [null, null, null, null],
  Jeudi: [null, "INF204 - Gp B - B203", null, "ELT101 - Gp A - A101"],
  Vendredi: [null, null, "INF204 - Gp B - B203", null],
  Samedi: [null, null, null, null]
};

const jours = ["Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"];
const tbody = document.getElementById("emploi-body");

horaire.forEach((plage, i) => {
  const row = document.createElement("tr");
  const tdHeure = document.createElement("td");
  tdHeure.textContent = plage;
  row.appendChild(tdHeure);

  jours.forEach(jour => {
    const cell = document.createElement("td");
    const cours = edt[jour][i];
    if (cours) {
      cell.textContent = cours;
    } else {
      cell.classList.add("vide");
      cell.textContent = "‚Äî";
    }
    row.appendChild(cell);
  });

  tbody.appendChild(row);
});
// R√©utiliser la liste des cours d√©j√† d√©finie
const docCoursSelect = document.getElementById("doc-cours");
listeCours.forEach(code => {
  const option = document.createElement("option");
  option.value = code;
  option.textContent = code;
  docCoursSelect.appendChild(option);
});

// Stockage simul√© des fichiers
let documents = {
  "ELT101": [],
  "INF204": [],
  "EEN301": []
};

function ajouterDocument() {
  const cours = docCoursSelect.value;
  const fichier = document.getElementById("doc-fichier").files[0];

  if (!cours || !fichier) {
    alert("Veuillez s√©lectionner un cours et un fichier.");
    return;
  }

  documents[cours].push({
    nom: fichier.name,
    taille: (fichier.size / 1024).toFixed(1) + " Ko"
  });

  afficherDocuments(cours);
}

function afficherDocuments(cours) {
  const ul = document.getElementById("liste-docs");
  ul.innerHTML = "";

  if (!documents[cours] || documents[cours].length === 0) {
    ul.innerHTML = "<li>Aucun document disponible pour ce cours.</li>";
    return;
  }

  documents[cours].forEach((doc, i) => {
    const li = document.createElement("li");
    li.innerHTML = `
      <span>üìÑ ${doc.nom} (${doc.taille})</span>
      <button onclick="supprimerDocument('${cours}', ${i})">üóëÔ∏è</button>
    `;
    ul.appendChild(li);
  });
}

function supprimerDocument(cours, index) {
  documents[cours].splice(index, 1);
  afficherDocuments(cours);
}

// R√©affichage automatique lors du changement de cours
docCoursSelect.addEventListener("change", () => {
  const cours = docCoursSelect.value;
  afficherDocuments(cours);
});
// Utilisation de listeCours d√©j√† d√©clar√©e
const coursMessage = document.getElementById("cours-message");
listeCours.forEach(code => {
  const option = document.createElement("option");
  option.value = code;
  option.textContent = code;
  coursMessage.appendChild(option);
});

// Historique des messages simul√©
const messagesEnvoyes = [];

function envoyerMessage() {
  const cours = document.getElementById("cours-message").value;
  const destinataire = document.getElementById("destinataire").value;
  const contenu = document.getElementById("contenu-message").value.trim();

  if (!cours || !contenu) {
    alert("Veuillez remplir tous les champs obligatoires.");
    return;
  }

  const message = {
    date: new Date().toLocaleString(),
    cours: cours,
    destinataire: destinataire,
    contenu: contenu
  };

  messagesEnvoyes.unshift(message);
  afficherMessages();
  document.getElementById("contenu-message").value = "";
}

function afficherMessages() {
  const liste = document.getElementById("liste-messages");
  liste.innerHTML = "";

  if (messagesEnvoyes.length === 0) {
    liste.innerHTML = "<li>Aucun message envoy√©.</li>";
    return;
  }

  messagesEnvoyes.forEach(msg => {
    const li = document.createElement("li");
    li.innerHTML = `
      <strong>${msg.date}</strong> ‚Äì 
      <em>${msg.cours}</em> √† <em>${msg.destinataire}</em><br/>
      ${msg.contenu}
    `;
    liste.appendChild(li);
  });
}
// Mise √† jour de la photo de profil
document.getElementById("input-photo").addEventListener("change", function () {
  const file = this.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function (e) {
      document.getElementById("photo-profil").src = e.target.result;
    };
    reader.readAsDataURL(file);
  }
});

// Simuler la mise √† jour du profil
function mettreAJourProfil() {
  const nom = document.getElementById("nom").value.trim();
  const email = document.getElementById("email").value.trim();
  const oldPass = document.getElementById("old-password").value;
  const newPass = document.getElementById("new-password").value;

  if (!nom || !email) {
    alert("Le nom et l'email sont obligatoires.");
    return;
  }

  // Ici on pourrait valider le mot de passe c√¥t√© serveur
  if (oldPass && newPass) {
    alert("Mot de passe modifi√© avec succ√®s !");
  }

  alert("Profil mis √† jour avec succ√®s !");
}
  </script>
</body>
</html>
