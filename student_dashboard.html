<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Tableau de bord Étudiant</title>
  <!-- Bootstrap 4 pour le style -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
  />
  <style>
    /* ---------- Style global ---------- */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
      background-color:#f9f9f9;

    }
    /* Conteneur principal en flex : sidebar + contenu */
    .dashboard-container {
      display: flex;
      min-height: 100vh;
    }
    .dashboard-container{
      font-size: 20px
      ;
    }

    /* ---------- Sidebar (à gauche) ---------- */
    .sidebar {
      background-color: #042b52;
      width: 250px;
      border-right: 1px solid #ddd;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 30px;
	    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
      color: white;
    }
    /* Photo circulaire */
    .sidebar .avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid black;
      margin-bottom: 15px;
      align-items: center;


    }
    .sidebar h4 {
      margin-bottom: 30px;
      font-weight: bold;
      font-size: 1.1rem;
      color: white;
    }
    /* Liens menu */
    .sidebar .nav-link {
      width: 100%;
      text-align: left;
      padding: 10px 25px;
      color: #333;
      font-weight: 500;
      transition: background-color 0.2s, color 0.2s;
    }
    .sidebar .nav-link.active {
      color: #fff;
    }
    .sidebar .nav-link:hover {
      background-color: #e5e5e5;
      color: black;
      text-decoration: none;
    }
    /* Bouton déconnexion */
    .sidebar .logout-btn {
      margin-top: auto;
      margin-bottom: 20px;
    }

    /* ---------- Contenu principal (à droite) ---------- */
    .main-content {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }
    .main-content h2 {
      margin-bottom: 20px;
      font-size: 1.5rem;
      border-bottom: 2px solid rgb(3, 3, 65);
      padding-bottom: 8px;
      color: #333;
    }
    /* Masque toutes les sections par défaut */
    .content-section {
      display: none;}
    

    .notes{
      display: flex; 
     justify-content: space-between;
     padding: 40px;
    }
    .notes a {
      height: 60px;
      width: 60px;
      align-items: center;
      text-decoration: none;
      color: #042b52;
      margin-right: 30px ;

       }
    /* La section visible aura la classe .active-section */
    .active-section {
      display: block;
    }
  </style>
</head>

<body>
  <div class="dashboard-container">
    <!-- ==================== SIDEBAR ==================== -->
    <nav class="sidebar">
      <!-- Photo de l'étudiant, que l'on remplira en JS depuis localStorage -->
      <img src="images/default_avatar.png" alt="Avatar" class="avatar" id="studentAvatar"/>

      <!-- Texte de bienvenue, avec un span vide que l’on remplira en JS -->
      <h4>Bienvenue, <span id="studentName">NOM</span></h4>

      <!-- Menu vertical -->
      <a href="#" class="nav-link active" data-section="accueil">Accueil</a>
      <a href="#" class="nav-link" data-section="cours">Mes notes</a>
      <a href="#horaire" class="nav-link" data-section="horaire">Horaire</a>
      <a href="#dossier" class="nav-link" data-section="dossier">Dossier académique</a>

      <!-- Bouton déconnexion en bas -->
      <a href="#" class="btn btn-outline-secondary logout-btn" onclick="handleLogout()">
        Déconnexion </a>
    </nav>
    <!-- ==================== MAIN CONTENT ==================== -->
    <div class="main-content">
      <!-- Section : Accueil -->
      <div id="accueil" class="content-section active-section">
        <h2>Accueil</h2>
        <p style="font-size: 30px;">
          Bienvenue sur votre espace personnel !<br />
          <strong><span id="studentPromo">L2</span></strong>
          du département de
          <strong><span id="studentDept">Génie informatique</span></strong>.
        </p>
        <p style="font-size: 30px">
          Utilisez le menu à gauche pour naviguer vers vos notes, votre horaire de cours et votre dossier académique.
        </p>
      </div>

      <!-- Section : Cours -->
      <div id="cours" class="content-section">
        <div class="dashboard-cours">
          <h2>Mes NOTES</h2>
          <div class="notes">
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="">ALGO</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="">ANGLAIS</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="">ANACIR</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="">MATHS</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">MACARAT</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">MACAFLUIDE</a>
          </div>
          <div class="notes">
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">MECASOL</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">SDM</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">PROBA</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">ECM</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">SYGNAUX</a>
            <a href=""><img src="IMAGES\book-journal-whills-solid.svg" alt="ALGO">THERMO</a>
          </div>

        </div>   
      </div>
      
      <!-- Section : Horaire -->
      <div id="horaire" class="content-section">
        <h2>Mon Horaire</h2>
        <table class="table table-bordered">
          <thead class="thead-light">
            <tr>
              <th>Jour</th>
              <th>Heure</th>
              <th>Cours</th>
              <th>Salle</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Lundi</td>
              <td>08 h 00 – 10 h 00</td>
              <td>Mathématiques Appliquées</td>
              <td>Amphi 1</td>
            </tr>
            <tr>
              <td>Mardi</td>
              <td>10 h 00 – 12 h 00</td>
              <td>Algorithmique</td>
              <td>TP Informatique (Salle 204)</td>
            </tr>
            <tr>
              <td>Mercredi</td>
              <td>14 h 00 – 16 h 00</td>
              <td>Bases de Données</td>
              <td>Salle 305</td>
            </tr>
            <tr>
              <td>Jeudi</td>
              <td>08 h 00 – 10 h 00</td>
              <td>Structures de Données</td>
              <td>Amphi 2</td>
            </tr>
            <tr>
              <td>Vendredi</td>
              <td>12 h 00 – 14 h 00</td>
              <td>Projet Informatique</td>
              <td>TP Informatique (Salle 204)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Section : Dossier -->
      <div id="dossier" class="content-section">
        <h2>Mon Dossier Académique</h2>
        <p>
          <strong>Statut des frais :</strong> À jour
        </p>
        <!-- Notes -->
        <h5>Mes cotes :</h5>
    
        <ul class="list-group">
          <li class="list-group-item">Mathématiques Appliquées : 15</li>
          <li class="list-group-item">Algorithmique : 13</li>
          <li class="list-group-item">Bases de Données : 16</li>
          <li class="list-group-item">Structures de Données : 14</li>
        </ul>

        <!-- Téléchargement du coupon (statique) -->
        <div class="bouton">
          <p><strong>Coupon de délibération :</strong></p>
          <div class="sous-classe3">
            <a href="login.html"><button class="btn"> Télécharger le coupon</button></a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ---------- JavaScript pour gérer le contenu et l’injection du nom/promo/dept ---------- -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 1) Injection du nom de l'étudiant
      const storedName = localStorage.getItem('studentName') || 'Invité';
      document.getElementById('studentName').innerText = storedName;

      // 2) Injection de la photo (si fournie)
      const storedPhoto = localStorage.getItem('studentPhoto');
      if (storedPhoto) {
        document.getElementById('studentAvatar').src = storedPhoto;
      }

      // 3) Injection de la promotion
      const storedPromo = localStorage.getItem('studentPromo') || 'L2';
      document.getElementById('studentPromo').innerText = storedPromo;

      // 4) Injection du département
      const storedDept = localStorage.getItem('studentDept') || 'génie informatique';
      document.getElementById('studentDept').innerText = storedDept;
    });

    // ---------- JS pour la navigation entre sections (inchangé) ----------
    const navLinks = document.querySelectorAll('.sidebar .nav-link');
    const sections = document.querySelectorAll('.content-section');

    navLinks.forEach((link) => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        navLinks.forEach((lnk) => lnk.classList.remove('active'));
        this.classList.add('active');
        const target = this.getAttribute('data-section');
        sections.forEach((sec) => sec.classList.remove('active-section'));
        document.getElementById(target).classList.add('active-section');
      });
    });

    // ---------- Fonction de déconnexion (vide localStorage) ----------
    function handleLogout() {
      localStorage.removeItem('studentName');
      localStorage.removeItem('studentPhoto');
      localStorage.removeItem('studentPromo');
      localStorage.removeItem('studentDept');
      localStorage.removeItem('studentFeesStatus');
      localStorage.removeItem('studentEligible');
      alert('Vous êtes déconnecté.');
      window.location.href = 'grand_public.html';
    }
  </script>

  <!-- Bootstrap JS + Popper -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>
